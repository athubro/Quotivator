<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Login Page</title>
  <style>
    *{
    margin:0;
    padding:0;
    box-sizing: border-box;
  }

    body{
        min-height:100vh;
        transition: 0.5s;
        transition-timing-function: ease-in;
        background-image: url('mot.jpg');
        background-repeat: no-repeat;
        background-size: cover;
    }
    
    .navbar {
        position: fixed;
        top: 0;
        width: 100%;
        background-color: #FFD580;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        padding: 1.5rem 0;
        height: 4rem;
    }
    
    .navbar-content {
        max-width: 50vw;
        margin: -10 auto;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    
    .navbar-title {
        font-family: 'Roboto', sans-serif;
        font-size: 28px;
        border: 5px solid orange;
        border-radius: .5rem;
        font-weight: 5;
        background-color: black;
        color: transparent;
        -webkit-background-clip: text;
        margin: 0;
        margin-left = 10;
    }
    
    .navbar-links {
        list-style: none;
        margin: 0;
        padding: 0;
        display: flex;
    }
    
    .navbar-links li {
        margin-left: 30px;
    }
    
    .navbar-links a {
        font-family: 'Roboto', sans-serif;
        font-size: 18px;
        font-weight: 700;
        color: #333;
        text-decoration: none;
        transition: color 0.3s, transform 0.3s;
    }
    
    .navbar-links a:hover {
        color: #ed4264;
        transform: scale(1.1);
    }
    
    .container {
        padding-top: 4rem; /* Reduced from 6rem to move boxes up */
        padding-bottom: 2rem;
        max-width: 50vw;
        margin: 0 auto;
        min-height: calc(100vh - 10rem);
        display: flex;
        flex-direction: column;
        justify-content: center;
    }
    
    .container-shared {
        padding-top: 6rem;
        padding-bottom: 2rem;
        max-width: 50vw;
        margin: 0 auto;
        min-height: calc(100vh - 10rem);
        display: flex;
        flex-direction: column;
        align-items: center;
    }
    
    .footer {
        position: fixed;
        bottom: 0;
        width: 100%;
        background-image: linear-gradient(to right bottom, #ed4264a8, #ffedbca8);
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.2);
        padding: 1rem 0;
        text-align: center;
    }
    
    .footer-content {
        max-width: 50vw;
        margin: 0 auto;
    }
    
    .footer-content p {
        font-family: 'Roboto', sans-serif;
        font-size: 16px;
        color: #333;
        margin: 0;
    }
    
    .random-quote-block {
        margin-bottom: 30rem;
        position: relative;
        perspective: 150rem;
    }
    
    .daily-quote-block {
        margin-bottom: 30px;
    }
    
    .flip-container {
        position: relative;
        width: 100%;
        height: 300px;
    }
    
    .block__main {
        position: absolute;
        width: 100%;
        transition: transform 0.8s ease;
        backface-visibility: hidden;
    }
    
    .block__front {
        transform: rotateY(0deg);
    }
    
    .block__back {
        transform: rotateY(180deg);
    }
    
    .rotateF {
        transform: rotateY(-180deg);
    }
    
    .rotateB {
        transform: rotateY(0deg);
    }
    
    .quote-box {
        padding: 3rem;
        border-radius: .5rem;
        box-shadow: 0rem 1.5rem 4rem rgba(0, 0, 0, 0.15);
        background-color: #FFFFC5;
        max-width: 45vw;
        margin: 0 auto;
    }
    
    .daily-quote-block .quote-box,
    .shared-quote {
        margin-bottom: 20px;
    }
    
    .random-quote-block .quote-box {
        margin: 0 auto;
    }
    
    .text {
        font-size: 30px;
        padding-left: 10px;
        transition: 0.5s;
        transition-timing-function: ease-in;
        font-family: 'Roboto', sans-serif;
        background-image: linear-gradient(to right bottom, #9B870D, #FFA500);
        color: transparent;
        -webkit-background-clip: text;
        overflow-wrap: break-word;
        text-align: center;
    }
    
    .quote {
        transition: 0.5s;
        transition-timing-function: ease-in;
        display: inline-block;
    }
    
    .new-quote {
        font-size: 15px;
        border-radius: 5px;
        cursor: pointer;
        padding-bottom: 8px;
        padding-top: 9px;
        margin-top: 5px;
        margin-left: 5px;
        background-image: linear-gradient(to right bottom, #ed4264a8, #ffedbca8);
        display: inline-block;
    }
    
    .tweet-quote {
        font-size: 15px;
        border-radius: 5px;
        cursor: pointer;
        padding: 8px 12px 8px 28px;
        margin-top: 5px;
        margin-left: 5px;
        background-color: #1DA1F2;
        color: white;
        display: inline-block;
        position: relative;
        text-decoration: none;
    }
    
    .tweet-quote::before {
        content: "\f099";
        font-family: "Font Awesome 5 Brands";
        position: absolute;
        left: 8px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 14px;
    }
    
    .text-center {
        text-align: center;
    }
    
    .new-quote:hover {
        opacity: 0.6;
    }
    
    .tweet-quote:hover {
        background-color: #1991DB;
    }
    
    .author {
        margin: 10px;
        font-size: 20px;
        transition: 0.5s;
        transition-timing-function: ease-in;
        font-family: 'Open Sans Condensed', sans-serif;
        background-image: linear-gradient(to right bottom, #28313B, #485461);
        color: transparent;
        -webkit-background-clip: text;
        text-align: center;
    }
    
    .quote-form {
        max-width: 45vw;
        margin: 0 auto;
        padding: 2rem;
        background-color: #FFFFC5;
        border-radius: .5rem;
        box-shadow: 0rem 1.5rem 4rem rgba(0, 0, 0, 0.15);
    }
    
    .form-group {
        margin-bottom: 1.5rem;
    }
    
    .form-control {
        font-family: 'Roboto', sans-serif;
        font-size: 16px;
        padding: 10px;
    }
    
    .submit-quote {
        font-size: 15px;
        border-radius: 5px;
        cursor: pointer;
        padding: 8px 12px;
        margin-top: 10px;
        background-image: linear-gradient(to right bottom, #ed4264a8, #ffedbca8);
        display: inline-block;
    }
    
    .submit-quote:hover {
        opacity: 0.6;
    }
    
    .alert-success {
        margin-top: 1rem;
        max-width: 45vw;
        margin-left: auto;
        margin-right: auto;
    }
    
    .alert-success.hidden {
        display: none;
    }
    
    .upvote-btn {
        font-size: 15px;
        border-radius: 5px;
        cursor: pointer;
        padding: 8px 12px 8px 28px;
        margin-top: 5px;
        margin-left: 5px;
        background-image: linear-gradient(to right bottom, #9B870D, #FFA500);
        display: inline-block;
        position: relative;
    }
    
    .upvote-btn::before {
        content: "\f164";
        font-family: "Font Awesome 5 Free";
        font-weight: 900;
        position: absolute;
        left: 8px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 14px;
    }
    
    .upvote-btn:hover:not(:disabled) {
        opacity: 0.6;
    }
    
    .upvote-btn:disabled {
        cursor: not-allowed;
    }
    input, button {
      width: 100%;
      padding: 10px;
      margin: 8px 0;
      font-size: 16px;
    }
    button {
      cursor: pointer;
    }
    hr {
      margin: 20px 0;
    }
    #status {
      color: green;
      margin-top: 10px;
    }
  </style>
</head>
<body>
  <nav class="navbar">
      <div class="navbar-content">
        <h1 class="navbar-title">Quotivate</h1>
        <ul class="navbar-links">
          <li><a href="index.html">Home</a></li>
          <li><a href="shared.html">Shared Quotes</a></li>
          <li><a href="about.html">Submit Quote</a></li>
          <li><a href="login.html">Login</a></li>
        </ul>
      </div>
    </nav>
  <h2>Login or Sign Up</h2>

  <form id="auth-form">
    <input type="email" id="email" placeholder="Email" required />
    <input type="password" id="password" placeholder="Password" required />
    <button type="submit">Login / Sign Up</button>
  </form>

  <hr />

  <button id="google-login">Sign in with Google</button>

  <p id="status"></p>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import {
      getAuth,
      signInWithEmailAndPassword,
      createUserWithEmailAndPassword,
      GoogleAuthProvider,
      signInWithPopup,
      onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

    // ✅ Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDaxGdsgwL_T2ejOh74WK8TA2EJDdxswOw",
      authDomain: "quoteapp-e57e7.firebaseapp.com",
      projectId: "quoteapp-e57e7",
      storageBucket: "quoteapp-e57e7.appspot.com",
      messagingSenderId: "1065813414568",
      appId: "1:1065813414568:web:10e8261f971f05c7cae89d",
      measurementId: "G-XWP863T7K1"
    };

    // ✅ Init Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);

    const status = document.getElementById("status");

    // Email/Password Login or Signup
    document.getElementById("auth-form").addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("email").value.trim();
      const password = document.getElementById("password").value;

      try {
        // Try logging in first
        await signInWithEmailAndPassword(auth, email, password);
        status.textContent = "Logged in successfully!";
      } catch (err) {
        if (err.code === "auth/user-not-found") {
          try {
            // If no user, create account
            await createUserWithEmailAndPassword(auth, email, password);
            status.textContent = "Account created and logged in!";
          } catch (signupErr) {
            status.textContent = "Signup failed: " + signupErr.message;
          }
        } else {
          status.textContent = "Login failed: " + err.message;
        }
      }
    });

    // Google Sign-In
    document.getElementById("google-login").addEventListener("click", async () => {
      const provider = new GoogleAuthProvider();
      try {
        await signInWithPopup(auth, provider);
        status.textContent = "Signed in with Google!";
        alert("You signed in successfully");
      } catch (err) {
        status.textContent = "Google sign-in failed: " + err.message;
        alert('sign in failed');
      }
    });

    // Login state
    onAuthStateChanged(auth, (user) => {
      if (user) {
        status.textContent = `Logged in as: ${user.displayName || user.email}`;
        window.location.href = "index.html"
      }
    });
  </script>
</body>
</html>
